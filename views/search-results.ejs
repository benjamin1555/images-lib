<%- include('includes/head.ejs') %>
<%- include('includes/navigation.ejs') %>

<h1 class="font-weight-light text-center text-lg-left mt-4 mb-0">Search Results</h1>
<hr class="mt-2 mb-3">

<% if (images.length === 0) { %>
  <p class="text-center mt-5">We have not found anything matching your request. Try something else.</p>
  <%- include('includes/search-bar.ejs') %>
<% } else { %>
  <div class="row text-center text-lg-left">
    <p class="mt-3 mb-4">Here is what we found for  <span class="font-weight-bold">"<%= searchQuery %>"</span>:</p>
    <% images.forEach((image, i)=> { %>
      <div class="col-lg-4 col-md-4 col-6">
        <a href="/images/<%= image._id %>" class="d-block mb-4 h-100">
          <img class="img-fluid img-thumbnail" src="<%= image.imageUrl %>" alt="Image from <%= image.author %> - <%= image._id %>">
        </a>
      </div>
    <% }) %>
  </div>

  <%- include('includes/pagination-home.ejs') %>
<% } %>

<% if (successMessage.length > 0) { %>
  <div class="alert alert-success fixed-bottom-right" role="alert">
    <%= successMessage %>
  </div>
<% } %>

<% if (infoMessage.length > 0) { %>
  <div class="alert alert-info fixed-bottom-right" role="alert">
    <%= infoMessage %>
  </div>
<% } %>

<%- include('includes/end.ejs') %>