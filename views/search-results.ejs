<%- include('includes/head.ejs') %>
<%- include('includes/navigation.ejs') %>

<h1 class="font-weight-light text-center text-lg-left mt-4 mb-0">Search Results</h1>
<hr class="mt-2 mb-3">

<% if (images.length === 0) { %>
  <p class="text-center mt-5">We have not found anything matching your request. Try something else.</p>
  <%- include('includes/search-bar.ejs') %>
<% } else { %>
    <p class="text-center mt-3 mb-4">Here is what we found for "<%= searchQuery %>":</p>
    <div class="images-gallery">
    <% images.forEach((image, i)=> { %>
      <a href="/images/<%= image._id %>" class="d-block mb-4">
        <div class="img-thumbnail" style="background-image: url('<%= image.imageUrl %>')"></div>
      </a>
    <% }) %>
  </div>

  <%- include('includes/pagination-home.ejs') %>
<% } %>

<% if (successMessage.length > 0) { %>
  <div class="alert alert-success fixed-bottom-right" role="alert">
    <%= successMessage %>
  </div>
<% } %>

<% if (infoMessage.length > 0) { %>
  <div class="alert alert-info fixed-bottom-right" role="alert">
    <%= infoMessage %>
  </div>
<% } %>

<%- include('includes/end.ejs') %>